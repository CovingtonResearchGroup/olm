
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>olm.USGS package &#8212; olm 0.39 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="/default.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="olm.USGS.WQXtoPandas.runWQXtoPandas" href="olm.USGS.WQXtoPandas.runWQXtoPandas.html" />
    <link rel="prev" title="olm.general.getProperties" href="olm.general.getProperties.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="olm.USGS.WQXtoPandas.runWQXtoPandas.html" title="olm.USGS.WQXtoPandas.runWQXtoPandas"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="olm.general.getProperties.html" title="olm.general.getProperties"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">olm 0.39 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="olm.html" accesskey="U">olm Package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">olm.USGS package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="olm-usgs-package">
<h1>olm.USGS package<a class="headerlink" href="#olm-usgs-package" title="Permalink to this heading">¶</a></h1>
<p>This package contains functions for retrieving and processing data from the USGS National Water Information System database (NWIS).  Using these modules it is possible to retrieve water quality data, discharge data, and site metadata.  These data are then converted into Pandas data objects and stored in pickled and spreadsheet format for later usage. The package also contains functions for processing the Pandas data objects through the USGS water chemistry code PHREEQC.  For this, an installation of PHREEQC is required.</p>
<p>The most typical entry point is to use the convenience function <code class="docutils literal notranslate"><span class="pre">runWQXtoPandas</span></code>.  This function can be used from within python by importing it from the <code class="docutils literal notranslate"><span class="pre">olm.USGS.WQXtoPandas</span></code> module.  It can additionally be used from the command line using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$./WQXtoPandas.py &lt;name of input xls file&gt;
</pre></div>
</div>
<p>Most functionality can be controlled from within the Excel file.  A template is provided with the olm package in the examples directory. The examples file also contains some brief code illustrating how data can be read in from the pickled outputs of <code class="docutils literal notranslate"><span class="pre">WQXtoPandas</span></code> and plotted.</p>
<section id="olm-usgs-wqxtopandas-module">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.WQXtoPandas</span></code> module<a class="headerlink" href="#olm-usgs-wqxtopandas-module" title="Permalink to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.WQXtoPandas.runWQXtoPandas.html#olm.USGS.WQXtoPandas.runWQXtoPandas" title="olm.USGS.WQXtoPandas.runWQXtoPandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">runWQXtoPandas</span></code></a>(startfilename[, ...])</p></td>
<td><p>Runs WQXtoPandas on an excel format input file where parameters can be set for an automatic query of data from the USGS NWIS database.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.WQXtoPandas.WQXtoPandas.html#olm.USGS.WQXtoPandas.WQXtoPandas" title="olm.USGS.WQXtoPandas.WQXtoPandas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WQXtoPandas</span></code></a>(xmlLocation, charDict[, ...])</p></td>
<td><p>Processes a WQX xml data file and loads data for each site in the WQX file into Pandas data objects that are stored in directories for each site.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="olm-usgs-phreeqcpandas-module">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.PhreeqcPandas</span></code> module<a class="headerlink" href="#olm-usgs-phreeqcpandas-module" title="Permalink to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.processMidf.html#olm.USGS.PhreeqcPandas.processMidf" title="olm.USGS.PhreeqcPandas.processMidf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processMidf</span></code></a>(site_midf, site_dir, ...[, ...])</p></td>
<td><p>Takes a WQXtoPandas site multi-indexed DataFrame and runs all samples through PHREEQC, returning a DataFrame of the outputs that is indexed by date.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.readPhreeqcOutput.html#olm.USGS.PhreeqcPandas.readPhreeqcOutput" title="olm.USGS.PhreeqcPandas.readPhreeqcOutput"><code class="xref py py-obj docutils literal notranslate"><span class="pre">readPhreeqcOutput</span></code></a>(phreeqcOutputFile)</p></td>
<td><p>Reads the output file from a PHREEQC simulation run.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.writePhreeqcInput.html#olm.USGS.PhreeqcPandas.writePhreeqcInput" title="olm.USGS.PhreeqcPandas.writePhreeqcInput"><code class="xref py py-obj docutils literal notranslate"><span class="pre">writePhreeqcInput</span></code></a>(sample_row, phreeqc_file_name)</p></td>
<td><p>Writes a PHREEQC input file using the row from a site DataFrame.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.findPCO2atCalciteSaturation.html#olm.USGS.PhreeqcPandas.findPCO2atCalciteSaturation" title="olm.USGS.PhreeqcPandas.findPCO2atCalciteSaturation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">findPCO2atCalciteSaturation</span></code></a>(...[, ...])</p></td>
<td><p>Finds the PCO2 where calcite would be saturated by modifing PCO2 of a PHREEQC input file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.phreeqcRunSetPCO2.html#olm.USGS.PhreeqcPandas.phreeqcRunSetPCO2" title="olm.USGS.PhreeqcPandas.phreeqcRunSetPCO2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">phreeqcRunSetPCO2</span></code></a>(logPCO2, phreeqcInputFile, ...)</p></td>
<td><p>Reads a PHREEQC input file, modifies it to a set PCO2 and runs the modified file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.PhreeqcPandas.calciteSaturationAtFixedPCO2.html#olm.USGS.PhreeqcPandas.calciteSaturationAtFixedPCO2" title="olm.USGS.PhreeqcPandas.calciteSaturationAtFixedPCO2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calciteSaturationAtFixedPCO2</span></code></a>(logPCO2, ...[, ...])</p></td>
<td><p>Function used in root finding of saturation PCO2.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="olm-usgs-dataretrieval-module">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.DataRetrieval</span></code> module<a class="headerlink" href="#olm-usgs-dataretrieval-module" title="Permalink to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.DataRetrieval.GetDailyDischarge.html#olm.USGS.DataRetrieval.GetDailyDischarge" title="olm.USGS.DataRetrieval.GetDailyDischarge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GetDailyDischarge</span></code></a>(location, date)</p></td>
<td><p>Retrieve daily average discharge value from USGS database for given date and USGS site.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.DataRetrieval.GetDailyDischargeRecord.html#olm.USGS.DataRetrieval.GetDailyDischargeRecord" title="olm.USGS.DataRetrieval.GetDailyDischargeRecord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GetDailyDischargeRecord</span></code></a>(location, start_date)</p></td>
<td><p>Retrieve daily average discharge values from USGS database for given date range and USGS site.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.DataRetrieval.GetSiteData.html#olm.USGS.DataRetrieval.GetSiteData" title="olm.USGS.DataRetrieval.GetSiteData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GetSiteData</span></code></a>(location)</p></td>
<td><p>Retrieves meta data about a Water Quality portal site using the site identifier.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.DataRetrieval.querySiteList.html#olm.USGS.DataRetrieval.querySiteList" title="olm.USGS.DataRetrieval.querySiteList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">querySiteList</span></code></a>(siteList, charList)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="olm-usgs-loadwaterqualitydata-module">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.loadWaterQualityData</span></code> module<a class="headerlink" href="#olm-usgs-loadwaterqualitydata-module" title="Permalink to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.loadWaterQualityData.loadSiteListData.html#olm.USGS.loadWaterQualityData.loadSiteListData" title="olm.USGS.loadWaterQualityData.loadSiteListData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadSiteListData</span></code></a>([siteListText, siteFile, ...])</p></td>
<td><p>Retrieves site data for multiple sites within a processed sites directory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.loadWaterQualityData.loadSiteData.html#olm.USGS.loadWaterQualityData.loadSiteData" title="olm.USGS.loadWaterQualityData.loadSiteData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadSiteData</span></code></a>(site[, processedSitesDir])</p></td>
<td><p>Retrieves site data for an individual site from a directory of processed sites.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.loadWaterQualityData.loadSitePhreeqcData.html#olm.USGS.loadWaterQualityData.loadSitePhreeqcData" title="olm.USGS.loadWaterQualityData.loadSitePhreeqcData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadSitePhreeqcData</span></code></a>(site[, processedSitesDir])</p></td>
<td><p>Retrieves site PHREEQC data for an individual site from a directory of processed sites.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="olm-usgs-sitelistextraction-module">
<h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.siteListExtraction</span></code> module<a class="headerlink" href="#olm-usgs-sitelistextraction-module" title="Permalink to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="olm.USGS.siteListExtraction.extractSitesFromText.html#olm.USGS.siteListExtraction.extractSitesFromText" title="olm.USGS.siteListExtraction.extractSitesFromText"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extractSitesFromText</span></code></a>(textFile)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="olm.USGS.siteListExtraction.extractSitesFromXML.html#olm.USGS.siteListExtraction.extractSitesFromXML" title="olm.USGS.siteListExtraction.extractSitesFromXML"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extractSitesFromXML</span></code></a>(xmlFile)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">olm.USGS package</a><ul>
<li><a class="reference internal" href="#olm-usgs-wqxtopandas-module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.WQXtoPandas</span></code> module</a></li>
<li><a class="reference internal" href="#olm-usgs-phreeqcpandas-module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.PhreeqcPandas</span></code> module</a></li>
<li><a class="reference internal" href="#olm-usgs-dataretrieval-module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.DataRetrieval</span></code> module</a></li>
<li><a class="reference internal" href="#olm-usgs-loadwaterqualitydata-module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.loadWaterQualityData</span></code> module</a></li>
<li><a class="reference internal" href="#olm-usgs-sitelistextraction-module"><code class="xref py py-mod docutils literal notranslate"><span class="pre">olm.USGS.siteListExtraction</span></code> module</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="olm.general.getProperties.html"
                          title="previous chapter">olm.general.getProperties</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="olm.USGS.WQXtoPandas.runWQXtoPandas.html"
                          title="next chapter">olm.USGS.WQXtoPandas.runWQXtoPandas</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/olm.USGS.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="olm.USGS.WQXtoPandas.runWQXtoPandas.html" title="olm.USGS.WQXtoPandas.runWQXtoPandas"
             >next</a> |</li>
        <li class="right" >
          <a href="olm.general.getProperties.html" title="olm.general.getProperties"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">olm 0.39 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="olm.html" >olm Package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">olm.USGS package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2022 Matthew Covington.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
  </body>
</html>